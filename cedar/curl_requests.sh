# Create template
curl -H "Content-Type: application/json" \
    -H "Authorization: apiKey <apikey>" \
    -X  POST -d '{"@type": "https://schema.metadatacenter.org/core/Template", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "test-template template schema", "description": "test-template template schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"pages": [], "order": [], "propertyLabels": {}, "propertyDescriptions": {}}, "properties": {"@context": {"type": "object", "properties": {"rdfs": {"type": "string", "format": "uri", "enum": ["http://www.w3.org/2000/01/rdf-schema#"]}, "xsd": {"type": "string", "format": "uri", "enum": ["http://www.w3.org/2001/XMLSchema#"]}, "pav": {"type": "string", "format": "uri", "enum": ["http://purl.org/pav/"]}, "schema": {"type": "string", "format": "uri", "enum": ["http://schema.org/"]}, "oslc": {"type": "string", "format": "uri", "enum": ["http://open-services.net/ns/core#"]}, "skos": {"type": "string", "format": "uri", "enum": ["http://www.w3.org/2004/02/skos/core#"]}, "skos:notation": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:string"]}}}, "rdfs:label": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:string"]}}}, "schema:isBasedOn": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["@id"]}}}, "schema:name": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:string"]}}}, "schema:description": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:string"]}}}, "pav:createdOn": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:dateTime"]}}}, "pav:derivedFrom": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["@id"]}}}, "pav:createdBy": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["@id"]}}}, "pav:lastUpdatedOn": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["xsd:dateTime"]}}}, "oslc:modifiedBy": {"type": "object", "properties": {"@type": {"type": "string", "enum": ["@id"]}}}}, "required": ["xsd", "pav", "schema", "oslc", "schema:isBasedOn", "schema:name", "schema:description", "pav:createdOn", "pav:createdBy", "pav:lastUpdatedOn", "oslc:modifiedBy"], "additionalProperties": false}, "@id": {"type": ["string", "null"], "format": "uri"}, "@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "schema:isBasedOn": {"type": "string", "format": "uri"}, "schema:name": {"type": "string", "minLength": 1}, "schema:description": {"type": "string"}, "pav:createdOn": {"type": ["string", "null"], "format": "date-time"}, "pav:derivedFrom": {"type": "string", "format": "uri"}, "pav:createdBy": {"type": ["string", "null"], "format": "uri"}, "pav:lastUpdatedOn": {"type": ["string", "null"], "format": "date-time"}, "oslc:modifiedBy": {"type": ["string", "null"], "format": "uri"}}, "required": ["@context", "@id", "schema:isBasedOn", "schema:name", "schema:description", "pav:createdOn", "pav:createdBy", "pav:lastUpdatedOn", "oslc:modifiedBy"], "schema:name": "test-template", "schema:description": "test-template-description", "pav:createdBy": "https://metadatacenter.org/users/5db4afaf-aef3-476c-ae29-01676e1ceb15", "oslc:modifiedBy": "https://metadatacenter.org/users/5db4afaf-aef3-476c-ae29-01676e1ceb15", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "pav:version": "0.0.1", "bibo:status": "bibo:draft", "$schema": "http://json-schema.org/draft-04/schema#"}' \
    'https://resource.metadatacenter.org/templates'

# Validate field
curl -H "Content-Type: application/json" \
    -H "Authorization: apiKey <apikey>" \
    -X  POST -d '{"@id": "https://repo.metadatacenter.org/template-fields/dc3605b7-abf5-471d-80fd-420a9e7621de", "@type": "https://schema.metadatacenter.org/core/TemplateField", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "skos": "http://www.w3.org/2004/02/skos/core#", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "skos:prefLabel": {"@type": "xsd:string"}, "skos:altLabel": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "test-name field schema", "description": "test-name field schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"inputType": "textfield"}, "_valueConstraints": {"requiredValue": false}, "properties": {"@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "@value": {"type": ["string", "null"]}, "rdfs:label": {"type": ["string", "null"]}}, "schema:name": "test-name", "schema:description": "test-description", "pav:createdOn": "2021-11-18T15:25:51Z", "pav:createdBy": "https://metadatacenter.org/users/5db4afaf-aef3-476c-ae29-01676e1ceb15", "pav:lastUpdatedOn": "2021-11-18T15:25:51Z", "oslc:modifiedBy": "https://metadatacenter.org/users/5db4afaf-aef3-476c-ae29-01676e1ceb15", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "$schema": "http://json-schema.org/draft-04/schema#"}' \
    'https://resource.metadatacenter.org/command/validate?resource_type=field'

# Create element
curl -H "Content-Type: application/json" \
    -H "Authorization: apiKey <apikey>" \
    -X  POST -d '{"@id": "", "@type": "https://schema.metadatacenter.org/core/TemplateElement", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "BioSample element schema", "description": "BioSample element schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"order": "wasUsedBy", "propertyLabels": {"donated": "donated", "hasBioSampleType": "hasBioSampleType", "wasUsedBy": "wasUsedBy"}, "propertyDescriptions": {"donated": "Help Text", "hasBioSampleType": "Help Text", "wasUsedBy": "Help Text"}}, "properties": {"@context": {"type": "object", "properties": {"donated": "URI", "hasBioSampleType": "URI", "wasUsedBy": "URI"}, "additionalProperties": false, "required": true}, "@id": {"type": "string", "format": "uri"}, "@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "donated": {"@id": "https://repo.metadatacenter.org/template-fields/8e2c9599-cca7-4721-824a-71b3b3ea5208", "@type": "https://schema.metadatacenter.org/core/TemplateField", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "skos": "http://www.w3.org/2004/02/skos/core#", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "skos:prefLabel": {"@type": "xsd:string"}, "skos:altLabel": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "donated field schema", "description": "donated field schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"inputType": "textfield"}, "_valueConstraints": {"requiredValue": false}, "properties": {"@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "@value": {"type": ["string", "null"]}, "rdfs:label": {"type": ["string", "null"]}}, "schema:name": "donated", "schema:description": "Whether or not it was donated", "pav:createdOn": "2021-11-18T17:45:45Z", "pav:createdBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "pav:lastUpdatedOn": "2021-11-18T17:45:45Z", "oslc:modifiedBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "$schema": "http://json-schema.org/draft-04/schema#"}, "hasBioSampleType": {"@id": "https://repo.metadatacenter.org/template-fields/56f828fc-4c6e-4dbd-bded-ee10fb24c806", "@type": "https://schema.metadatacenter.org/core/TemplateField", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "skos": "http://www.w3.org/2004/02/skos/core#", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "skos:prefLabel": {"@type": "xsd:string"}, "skos:altLabel": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "hasBioSampleType field schema", "description": "hasBioSampleType field schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"inputType": "textfield"}, "_valueConstraints": {"requiredValue": false}, "properties": {"@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "@value": {"type": ["string", "null"]}, "rdfs:label": {"type": ["string", "null"]}}, "schema:name": "hasBioSampleType", "schema:description": "Has a bio sample type", "pav:createdOn": "2021-11-18T17:45:45Z", "pav:createdBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "pav:lastUpdatedOn": "2021-11-18T17:45:45Z", "oslc:modifiedBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "$schema": "http://json-schema.org/draft-04/schema#"}, "wasUsedBy": {"@id": "https://repo.metadatacenter.org/template-fields/d9518a26-8c87-4607-a80e-c906d0d9637b", "@type": "https://schema.metadatacenter.org/core/TemplateField", "@context": {"xsd": "http://www.w3.org/2001/XMLSchema#", "pav": "http://purl.org/pav/", "bibo": "http://purl.org/ontology/bibo/", "oslc": "http://open-services.net/ns/core#", "schema": "http://schema.org/", "skos": "http://www.w3.org/2004/02/skos/core#", "schema:name": {"@type": "xsd:string"}, "schema:description": {"@type": "xsd:string"}, "skos:prefLabel": {"@type": "xsd:string"}, "skos:altLabel": {"@type": "xsd:string"}, "pav:createdOn": {"@type": "xsd:dateTime"}, "pav:createdBy": {"@type": "@id"}, "pav:lastUpdatedOn": {"@type": "xsd:dateTime"}, "oslc:modifiedBy": {"@type": "@id"}}, "type": "object", "title": "wasUsedBy field schema", "description": "wasUsedBy field schema generated by the CEDAR Template Editor 1.6.3", "_ui": {"inputType": "textfield"}, "_valueConstraints": {"requiredValue": false}, "properties": {"@type": {"oneOf": [{"type": "string", "format": "uri"}, {"type": "array", "minItems": 1, "items": {"type": "string", "format": "uri"}, "uniqueItems": true}]}, "@value": {"type": ["string", "null"]}, "rdfs:label": {"type": ["string", "null"]}}, "schema:name": "wasUsedBy", "schema:description": "Was used by", "pav:createdOn": "2021-11-18T17:45:46Z", "pav:createdBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "pav:lastUpdatedOn": "2021-11-18T17:45:46Z", "oslc:modifiedBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "$schema": "http://json-schema.org/draft-04/schema#"}}, "schema:name": "BioSample", "schema:description": "Data about a physical sample consisting of one or more cells taken from an organism (living or deceased) or derived from such a Sample.", "required": true, "pav:createdOn": "2021-11-18T17:45:45Z", "pav:createdBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "pav:lastUpdatedOn": "2021-11-18T17:45:45Z", "oslc:modifiedBy": "https://metadatacenter.org/users/2555f907-9adf-4e28-b309-514fec66e020", "schema:schemaVersion": "1.6.0", "additionalProperties": false, "pav:version": "0.0.1", "bibo:status": "bibo:draft", "$schema": "http://json-schema.org/draft-04/schema#"}' \
    'https://resource.metadatacenter.org/template-elements'

# Search for field
curl -H "Content-Type: application/json" \
    -H "Authorization: apiKey <apikey>" \
    -X  POST -d '' \
    'https://resource.metadatacenter.org/template-elements'

curl -X GET --header 'Accept: application/json' \
    -H "Authorization: apiKey <apikey>" \
    'https://resource.metadatacenter.org/search?q=hasCrossReference'
